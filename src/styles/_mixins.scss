@use "sass:list";
@use "sass:map";

@function getVarList($prefix, $propKeyValuePairs...) {
  $result: ();

  @each $propKeyValuePair in $propKeyValuePairs {
    $propKey: list.nth($propKeyValuePair, 1);
    $value: list.nth($propKeyValuePair, 2);
    $prop: getProp($propKey);

    @if $prop {
      $varName: --#{$prefix}-#{$prop};
      $result: list.append($result, ($varName, $value, $prop));
    }
  }

  @return $result;
}

@mixin useVarListAtRoot($varList) {
  @each $item in $varList {
    $varName: list.nth($item, 1);
    $value: list.nth($item, 2);

    #{$varName}: $value;
  }
}

@mixin useVarListAtElement($varList) {
  @each $item in $varList {
    $varName: list.nth($item, 1);
    $prop: list.nth($item, 3);

    #{$prop}: var($varName);
  }
}

$kendo-prefix: "kendo";

@function withKendoPrefix($name) {
  @return "#{$kendo-prefix}-#{$name}";
}

@function getProp($key) {
  @return map.get($propList, $key);
}

@function createPropList($propNameKeyPairs...) {
  $result: ();

  @each $propNameKeyPair in $propNameKeyPairs {
    $propName: list.nth($propNameKeyPair, 1);
    $propKey: $propName;

    @if list.length($propNameKeyPair) != 1 {
      $propKey: list.nth($propNameKeyPair, 2);
    }

    $result: map.set($result, $propKey, $propName);
  }

  @return $result;
}

$propList: createPropList("color", "background-color");
