@use "/src/styles/core/dynamic-vars";
@use "../config" as *;

@mixin base() {
  #{$selector} {
    @include defineVarsPrefixed(
      ("line-height", normal),
      ("background-image", none),
      ("border-radius", var(--border-radius-sm)),
      ("font-size", var(--font-size-default)),
      ("padding-left", var(--spacing-sm)),
      ("padding-right", var(--spacing-sm)),
      ("padding-top", var(--spacing-xs)),
      ("padding-bottom", var(--spacing-xs)),
      ("font-weight", var(--font-weight-strong)),
      ("font-family", var(--font-family-default)),
      ("width", auto),
      ("height", auto),
      ("filter", none),
      (
        "transition",
        (
          background-color var(--transition-duration),
          color var(--transition-duration),
          border-color var(--transition-duration)
        )
      )
    );

    &:disabled {
      @include overrideVarsPrefixed(("filter", none));
    }

    &#{$selector--rounded} {
      @include overrideVarsPrefixed(("border-radius", var(--border-radius-lg)));
    }

    &#{$selector--icon} {
      #{$selectorText} {
        @include overrideVars(
          $prefixText,
          ("display", flex),
          ("column-gap", var(--spacing-xxs))
        );
      }
    }

    &#{$selector--icon-only} {
      @include overrideVarsPrefixed(
        ("width", var(--btn-icon-only-size)),
        ("height", var(--btn-icon-only-size)),
        ("padding-left", 0),
        ("padding-right", 0),
        ("padding-top", 0),
        ("padding-bottom", 0)
      );

      &#{$selector--rounded} {
        @include overrideVarsPrefixed(("border-radius", 100%));
      }
    }
  }

  #{$selectorText} {
    @include defineVars($prefixText, ("display", block), ("column-gap", none));
  }
}
